<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Folerym</title>
  <link rel="icon" type="image/png" href="/assets/avatar.png">
  <meta name="theme-color" content="#000000">
  <meta name="description" content="Founder rympcparts.online & cybersec learner">
  <meta property="og:title" content="Folerym">
  <meta property="og:description" content="Founder rympcparts.online & cybersec learner">
  <meta property="og:image" content="https://rympcparts.github.io/assets/avatar.png">
  <meta property="og:url" content="https://rympcparts.github.io">
  <meta property="og:type" content="website">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="bg-image"></div>
  <div class="overlay"></div>
  
  <div class="layout">
    <div class="card discord-activity">
      <h2 class="section-title">Discord Profile</h2>
      
      <div class="discord-profile">
        <div class="discord-avatar-container">
          <img id="discordAvatar" src="" alt="Discord Avatar" class="discord-avatar">
          <div class="status-indicator" id="statusIndicator"></div>
        </div>
        <div class="discord-info">
          <div class="discord-username" id="discordUsername">Chargement...</div>
          <div class="discord-discriminator" id="discordDiscriminator"></div>
          <div class="discord-display-name" id="discordDisplayName"></div>
        </div>
      </div>
      
      <div class="discord-status">
        <div class="status-dot online" id="statusDot"></div>
        <div>
          <div style="font-size: 0.9rem; font-weight: 600;" id="statusText">En ligne</div>
          <div style="font-size: 0.75rem; color: rgba(255,255,255,0.6);" id="statusMessage"></div>
        </div>
      </div>
      
      <div id="discordActivities">
        <div class="loading">Chargement...</div>
      </div>
    </div>

    <div class="card main-card">
      <div class="profile">
        <img src="/assets/avatar.png" alt="Avatar" class="avatar">
        <h1>Folerym</h1>
        <p class="bio-text">founder rympcparts & cybersec learner</p>
      </div>
      <div class="links">
        <a href="https://rympcparts.online" class="link-button" target="_blank">
          <i class="fa-solid fa-globe"></i> - Rym PC Parts & Optimizations
        </a>
        <a href="https://youtube.com/@Folerym" class="link-button" target="_blank">
          <i class="fab fa-youtube"></i> - YouTube
        </a>
        <a href="https://discord.com/users/732862973831413870" class="link-button" target="_blank">
          <i class="fa-brands fa-discord"></i> - Discord
        </a>
        <a href="https://namemc.com/profile/Folerym" class="link-button" target="_blank">
          <i class="fas fa-cube"></i> - NameMC
        </a>
      </div>
    </div>

    <aside class="card setup-card">
      <h2 class="section-title">Setup :</h2>
      <div class="activity">
        <div class="activity-icon">
          <i class="fa-solid fa-computer-mouse"></i>
        </div>
        <div class="activity-body">
          <div class="activity-app">Souris</div>
          <div class="activity-title">WLMOUSE BeastX Pro Mini</div>
          <div class="activity-sub">1600 • 1000hz • Omron Optical</div>
        </div>
      </div>
      <div class="activity">
        <div class="activity-icon">
          <i class="fa-solid fa-keyboard"></i>
        </div>
        <div class="activity-body">
          <div class="activity-app">Clavier</div>
          <div class="activity-title">STEELSERIES Apex Pro Mini</div>
          <div class="activity-sub">Optical • Azerty • 0.2</div>
        </div>
      </div>
      <div class="activity">
        <div class="activity-icon">
          <i class="fa-solid fa-square"></i>
        </div>
        <div class="activity-body">
          <div class="activity-app">Tapis</div>
          <div class="activity-title">WALLHACK SP-004</div>
          <div class="activity-sub">43 x 49 x 0,39 cm • Glass • 4mm</div>
        </div>
      </div>
    </aside>
  </div>

  <script>
    const DISCORD_USER_ID = '732862973831413870';
    
    async function fetchDiscordActivity() {
      try {
        const response = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_USER_ID}`);
        const data = await response.json();
        
        if (data.success) {
          updateDiscordStatus(data.data);
        } else {
          showError();
        }
      } catch (error) {
        console.error('Erreur lors de la récupération de l\'activité Discord:', error);
        showError();
      }
    }
    
    function updateDiscordStatus(userData) {
      const statusDot = document.getElementById('statusDot');
      const statusText = document.getElementById('statusText');
      const statusMessage = document.getElementById('statusMessage');
      const activitiesContainer = document.getElementById('discordActivities');
      
      const discordAvatar = document.getElementById('discordAvatar');
      const discordUsername = document.getElementById('discordUsername');
      const discordDiscriminator = document.getElementById('discordDiscriminator');
      const discordDisplayName = document.getElementById('discordDisplayName');
      const statusIndicator = document.getElementById('statusIndicator');
      
      if (userData.discord_user) {
        const user = userData.discord_user;
        discordAvatar.src = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png?size=128`;
        discordUsername.textContent = user.username;
        discordDiscriminator.textContent = user.discriminator !== '0' ? `#${user.discriminator}` : '';
        discordDisplayName.textContent = user.display_name || user.global_name || '';
      }
      
      const status = userData.discord_status;
      statusDot.className = `status-dot ${status}`;
      statusIndicator.className = `status-indicator ${status}`;
      
      const statusTexts = {
        'online': 'En ligne',
        'idle': 'Absent',
        'dnd': 'Ne pas déranger',
        'offline': 'Hors ligne'
      };
      
      statusText.textContent = statusTexts[status] || 'Inconnu';
      
      if (userData.activities && userData.activities.find(a => a.type === 4)) {
        const customStatus = userData.activities.find(a => a.type === 4);
        statusMessage.textContent = customStatus.state || '';
      }
      
      activitiesContainer.innerHTML = '';
      
      if (userData.activities && userData.activities.length > 0) {
        const nonCustomActivities = userData.activities.filter(a => a.type !== 4);
        if (nonCustomActivities.length > 0) {
          nonCustomActivities.forEach(activity => {
            const activityElement = createActivityElement(activity);
            activitiesContainer.appendChild(activityElement);
          });
        } else {
          activitiesContainer.innerHTML = '<div class="loading">Aucune activité</div>';
        }
      } else {
        activitiesContainer.innerHTML = '<div class="loading">Aucune activité</div>';
      }
    }
    
    function createActivityElement(activity) {
      const div = document.createElement('div');
      div.className = 'activity';
      
      const getActivityIcon = (activity) => {
        if (activity.name.toLowerCase().includes('spotify')) return 'fa-brands fa-spotify';
        if (activity.name.toLowerCase().includes('game')) return 'fa-solid fa-gamepad';
        if (activity.name.toLowerCase().includes('code')) return 'fa-solid fa-code';
        if (activity.name.toLowerCase().includes('browser')) return 'fa-solid fa-globe';
        return 'fa-solid fa-desktop';
      };
      
      const activityTypes = {
        0: 'Joue à',
        1: 'Stream',
        2: 'Écoute',
        3: 'Regarde',
        5: 'En compétition'
      };
      
      div.innerHTML = `
        <div class="activity-icon">
          <i class="${getActivityIcon(activity)}"></i>
        </div>
        <div class="activity-body">
          <div class="activity-app">${activityTypes[activity.type] || 'Activité'}</div>
          <div class="activity-title">${activity.name}</div>
          ${activity.details ? `<div class="activity-sub">${activity.details}</div>` : ''}
          ${activity.state ? `<div class="activity-sub">${activity.state}</div>` : ''}
        </div>
        <div class="activity-pill status-online">Live</div>
      `;
      
      return div;
    }
    
    function showError() {
      document.getElementById('discordActivities').innerHTML = 
        '<div class="loading">Impossible de charger l\'activité</div>';
    }
    
    fetchDiscordActivity();
    
    setInterval(fetchDiscordActivity, 30000);
  </script>
</body>
</html>